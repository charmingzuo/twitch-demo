"use strict";
var messages_1 = require('../common/messages');
var twitch_config_1 = require('./twitch-config');
var OAuth2Token_1 = require('../twitch/api/OAuth2Token');
var oAuth2Token = new OAuth2Token_1.default();
exports.getAccessData = function (code, cb) {
    var logger = plug('logger');
    var query = {
        client_secret: twitch_config_1.OAUTH.CLIENT_SECRET,
        grant_type: 'authorization_code',
        redirect_uri: twitch_config_1.OAUTH.REDIRECT_URI,
        code: code
    };
    oAuth2Token.request(query, function (err, json) {
        if (err) {
            cb(messages_1.default.ERR_TWITCH_OAUTH_FAILED, {});
        }
        else {
            cb(null, json);
        }
    });
};
//# sourceMappingURL=twitch-access-data.js.map