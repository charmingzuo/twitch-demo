'use strict';

const childProcess = require('child_process');
const got = 'got';
const twitchOauth = require('../twitch/twitch-config').twitchOauth;

let oauthURL = `https://api.twitch.tv/kraken/oauth2/authorize?response_type=code\
&client_id=${twitchOauth.CLIENT_ID}\
&redirect_uri=${encodeURIComponent(twitchOauth.REDIRECT_URI)}\
&scope=${encodeURIComponent(twitchOauth.USER_SCOPES)}\
&state=${Math.random()}`;
//&force_verify=true`; // 每次都要授权

console.log(oauthURL);
console.log('launching Chrome...');
childProcess.execFile('C:/Program Files (x86)/Google/Chrome/Application/chrome.exe', [oauthURL]);