"use strict";
var lib_1 = require("server/lib");
var gzipHttp = plug('util/gzipHttp');
exports.render = function (data) {
    var logger = plug('logger');
    var win = lib_1.window;
    logger.debug('jsonRender.render(data) => ');
    logger.debug(data);
    var gzip = gzipHttp.create({
        request: win.request,
        response: win.response,
        code: 200,
        contentType: 'application/json; charset=UTF-8'
    });
    try {
        gzip.write(data);
        gzip.flush();
    }
    catch (e) {
        logger.error(e.message + '\n' + e.stack);
    }
    finally {
        gzip.end();
    }
};
//# sourceMappingURL=json-render.js.map