"use strict";
var mod_map_1 = require('./mod-map');
var req = require;
exports.find = function (modAct, req, res) {
    var logger = plug('logger');
    var mod = mod_map_1.default[modAct];
    if (!mod || modAct === 'default_page') {
        modAct = 'default_page';
        req.params.mod_act = modAct;
        mod = mod_map_1.default[modAct];
    }
    if (typeof mod === 'string') {
        logger.info("HTTP " + req.REQUEST.pathname);
        res.setHeader('Mod-Map', modAct + ':' + mod);
    }
    return req(mod);
};
//# sourceMappingURL=mod-map-parser.js.map