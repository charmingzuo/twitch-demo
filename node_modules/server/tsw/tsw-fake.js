"use strict";
var tsw_config_1 = require('./tsw-config');
var mod_map_1 = require('./mod-map');
var express = require('express');
var compression = require('compression');
var log_1 = require("../lib/log");
process.env.NODE_ENV = 'development';
var app = express();
app.use(compression());
Object.keys(mod_map_1.default).forEach(function (pathname) {
    app.get('/' + pathname, function (request, response) {
        var mod = require(mod_map_1.default[pathname]);
        log_1.default.info('mod', mod);
        if (mod instanceof Function) {
            mod({ request: request, response: response });
        }
        else if (mod['default'] && mod['default'] instanceof Function) {
            mod['default']({ request: request, response: response });
        }
    });
});
app.listen(tsw_config_1.httpPort);
//# sourceMappingURL=tsw-fake.js.map