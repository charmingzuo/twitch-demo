import {render} from "../../common/json-render";
import Games from '../../twitch/api/Games'

const games = new Games();

const limit = 20;

export default (session: Session) => {
    let page = session.request.query.page || 1;

    games.request({
        limit: limit,
        offset: limit * Math.max(page - 1, 1)
    }, (err, json) => {
        render(session, json);
    });
};
